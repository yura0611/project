<div class="create-modal_title">
  <div class="create-modal_close_btn">
    <a (click)="onClose()">
      <mat-icon>clear</mat-icon>
    </a>
  </div>
  <p>Create Question</p>
</div>
<form class="create-modal-form" [formGroup]="createNewModal" (ngSubmit)="onSubmit()" #formElement='ngForm'>
  <div class="create-modal-form_title form-element_block">
    <label for="title">Title</label>
    <br>
    <input #titleInp type="text" name="title" id="title" formControlName="title" required placeholder="Type question title"
           >
    <span *ngIf="titleInp.value.length > 250 &&
            !createNewModal.get('title').valid && createNewModal.get('title').touched">Max amount of characters is 250</span>
    <span *ngIf="titleInp.value.length <= 0 &&
             !createNewModal.get('title').valid && createNewModal.get('title').touched">This field is required</span>
  </div>
  <div class="create-modal-form_description form-element_block">
    <label for="description">Description</label>
    <br>
    <textarea #descInp name="description" id="description" rows="10" formControlName="description" required
              placeholder="Type text" ></textarea>
    <span *ngIf="descInp.value.length > 800 &&
            !createNewModal.get('description').valid && createNewModal.get('description').touched">Max amount of characters is 800</span>
    <span *ngIf="descInp.value.length <= 0 &&
             !createNewModal.get('description').valid && createNewModal.get('description').touched">This field is required</span>
  </div>

  <div class="create-modal_form-topics form-element_block">
    <label>Topics</label>
    <br>
    <app-selected-topics-list [modal]="createNewModal" [customHeight]="true" formArrayName="topics"></app-selected-topics-list>
  </div>

  <div class="type-maxLength_wrapper">
    <div class="create-modal-form_type form-element_block">
      <label for="type">Type</label>
      <br>
      <select name="type" id="type" formControlName="type">
        <option hidden selected value="-1">Select type</option>
        <option value="code">code</option>
        <option value="text">text</option>
      </select>
      <span *ngIf="createNewModal.get('type').errors?.defaultSelected && createNewModal.get('type').touched">Field is required</span>
    </div>
    <div class="create-modal-form_max-length">
      <label for="maxlength">Max length</label>
      <br>
      <input #maxLength type="number" id="maxlength" name="maxLength" formControlName="maxLength" required placeholder="min" >
      <span *ngIf="maxLength.value > 120">Max value is 120</span>
      <span *ngIf="maxLength.value < 1 && createNewModal.get('maxLength').touched">Please enter value greater then 1</span>
    </div>
  </div>

  <div class="create-modal-form_edit_btn">
    <button type="submit"
            (click)="onCreate()"
            style="cursor: pointer"
            [disabled]="!formElement.valid"
            [ngStyle]="{'opacity': createNewModal.invalid ? '0.5': '1'}">
      Create
    </button>
  </div>
</form>

